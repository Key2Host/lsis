import{_ as S}from"./CYFbbaII.js";import{_ as W}from"./kX3wUskd.js";import{d as B,u as D,r as c,aj as l,a as y,w as h,G as A,ar as I,b as a,ap as g,al as T,a_ as V,o as i,aO as j,aP as z,a$ as P,at as U,ak as _,aI as $}from"./CicocnTy.js";const K={class:"w-full flex flex-col items-center justify-center mt-6"},M={class:"w-full max-w-2xl flex"},F={key:0},J=["onClick"],N=["onClick"],E={key:1,class:"w-full flex justify-center mt-6"},H={class:"text-red-500 text-lg"},L={key:2,class:"w-full flex justify-center mt-6"},R={key:0,class:"p-4 text-lg"},G={key:1,class:"p-6 text-center"},O=["placeholder"],Q={class:"flex justify-center gap-4"},ee=B({__name:"index",setup(Z){D({title:"Domains kaufen",ogTitle:"Domains kaufen",description:"Beschreibung",ogDescription:"Beschreibung"});const v=c(!1),b=c(""),f=c(""),u=c(""),n=c(""),o=c([]),d=c(""),k=async()=>{d.value="",o.value=[],d.value="Daten werden geladen...";const s=/^[a-zA-Z0-9.-]+$/;if(!u.value.trim()||!s.test(u.value)||u.value.startsWith(".")){d.value="Bitte eine gültige Domain eingeben.";return}n.value=u.value.trim(),console.log(`Suche nach Domain: ${n.value}`);let t=await C();const m=n.value.split("."),r=m.length>1?m[m.length-1]:"";d.value="",t.sort((p,e)=>p.tld===r?-1:e.tld===r?1:0),o.value=t},C=async()=>{try{const t=await(await fetch("https://saci.key2host.com/api/user/getDomainInfo")).json();if(Array.isArray(t.packages))return t.packages;console.error("Die API hat kein Array von Paketen zurückgegeben.")}catch(s){console.error("Fehler beim Abrufen der Webspace-Informationen:",s)}},w=(s,t,m)=>{b.value=s,f.value=t;const r=$();if(Array.isArray(o.value)&&o.value.length>0){const p=s.split(".").pop(),e=o.value.find(x=>x.name===p);e?f.value?(r.addToBasket({type:"domain",name:b.value,amount:e.amount,id:e.priceID}),r.openSlideover()):v.value=!0:console.log("Keine passende Domain gefunden.")}else console.log("Results ist kein gültiges Array oder leer:",o.value)};return D({title:"Domains",ogTitle:"Domains",description:"Jetzt deine Wunschdomain sichern!",ogDescription:"Jetzt deine Wunschdomain sichern!"}),(s,t)=>{const m=S,r=W,p=V;return i(),l(A,null,[y(m,{headline:"Produkte > Domains",title:"Jetzt deine Wunschdomain sichern!",align:"left"},{default:h(()=>[a("div",K,[a("div",M,[j(a("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onKeyup:P(k,["enter"]),placeholder:"Deine Wunschdomain eingeben...",class:"w-full p-4 text-lg border border-gray-300 rounded-l-2xl shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[z,u.value]]),a("button",{onClick:k,class:"px-6 py-4 bg-blue-600 text-white text-lg font-semibold rounded-r-2xl shadow-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"}," Suchen ")])])]),_:1}),n.value&&o.value.length>0?(i(),l("div",F,[(i(!0),l(A,null,I(o.value,e=>(i(),l("div",{key:e.name,class:"w-full flex flex-wrap justify-center gap-4 mb-4"},[y(r,{class:_(["w-full max-w-6xl relative",e.available?"":"opacity-50"]),title:`.${e.name} Domain`,color:e.available?"primary":"gray",icon:e.available?"i-heroicons-check-circle text-green-500 text-3xl":"i-heroicons-x-circle text-gray-500 text-3xl"},{description:h(()=>[U(" Die Domain "+g(n.value.split(".")[0]+"."+e.name)+" kostet "+g(e.amount+"€")+" pro Jahr. ",1)]),default:h(()=>[a("button",{class:_(["absolute top-1/2 right-4 transform -translate-y-1/2 px-4 py-2 rounded-lg shadow-md hidden sm:block",e.available?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-500 text-white hover:bg-gray-600"]),onClick:x=>w(n.value.split(".")[0]+"."+e.name,e.available,e.amount)},g(e.available?"In den Warenkorb":"Domain transferieren"),11,J),a("button",{class:_(["px-4 py-2 rounded-lg shadow-md w-full sm:w-auto sm:self-center sm:hidden",e.available?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-500 text-white hover:bg-gray-600"]),onClick:x=>w(n.value.split(".")[0]+"."+e.name,e.available,e.amount)},g(e.available?"In den Warenkorb":"Domain transferieren"),11,N)]),_:2},1032,["title","color","class","icon"])]))),128))])):d.value?(i(),l("div",E,[a("p",H,g(d.value),1)])):n.value?(i(),l("div",L,t[3]||(t[3]=[a("p",{class:"text-gray-500 text-lg"},"Keine Ergebnisse gefunden. Bitte eine andere Domain eingeben.",-1)]))):T("",!0),y(p,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value=e)},{default:h(()=>[f.value?(i(),l("div",R," Die Domain "+g(b.value)+" kann momentan nicht gekauft werden. ",1)):(i(),l("div",G,[t[5]||(t[5]=a("h2",{class:"text-2xl font-bold mb-2"},"Domain transferieren",-1)),t[6]||(t[6]=a("p",{class:"text-base text-gray-700 mb-6"}," Diese Domain ist bereits vergeben. Wenn sie dir gehört, kannst du sie nach Key2Host übertragen. Frage dazu bei deinem Anbieter nach dem AUTH-Schlüssel. ",-1)),a("input",{type:"text",placeholder:"AUTH-Schlüssel für "+b.value,class:"border border-gray-300 rounded-lg p-2 w-1/2 mb-6"},null,8,O),a("div",Q,[a("button",{class:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",onClick:t[1]||(t[1]=e=>v.value=!1)},"Abbrechen"),t[4]||(t[4]=a("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Fortfahren",-1))])]))]),_:1},8,["modelValue"])],64)}}});export{ee as default};
