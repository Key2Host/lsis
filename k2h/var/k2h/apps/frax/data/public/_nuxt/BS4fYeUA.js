import{a1 as q,T as D,bs as H,U as Y,d as P,p as J,E as O,bt as F,h as C,G as Z,l as Q,bu as ee,c as _,o as y,w as h,z as x,g as i,X as te,s as oe,x as z,e as $,P as ae,m as k,bv as ne,Z as se,ae as G,bw as re,bg as M,a6 as le,_ as ie,$ as ue,t as V,L as ce,a5 as de,a4 as pe,a7 as U,M as fe,O as ve,a0 as S,ab as A,ac as ge,ad as ye,aj as I,ak as he,ag as be,au as K,av as me,J as E,n as R,ah as N,F as _e,r as Ce,bx as we}from"./DpJrzV67.js";function xe(t,o){const e=q(!1,300),a=D(null),n=Y();function u(){a.value=null,e.value=!1}function l(p,d){const c=p.currentTarget,s={x:p.clientX,y:p.clientY},r=Te(s,c.getBoundingClientRect()),f=ke(s,r),v=Pe(d.getBoundingClientRect()),m=Oe([...f,...v]);a.value=m,e.value=!0}return H(p=>{if(t.value&&o.value){const d=s=>l(s,o.value),c=s=>l(s,t.value);t.value.addEventListener("pointerleave",d),o.value.addEventListener("pointerleave",c),p(()=>{var s,r;(s=t.value)==null||s.removeEventListener("pointerleave",d),(r=o.value)==null||r.removeEventListener("pointerleave",c)})}}),H(p=>{var d;if(a.value){const c=s=>{var g,b;if(!a.value)return;const r=s.target,f={x:s.clientX,y:s.clientY},v=((g=t.value)==null?void 0:g.contains(r))||((b=o.value)==null?void 0:b.contains(r)),m=!Be(f,a.value),w=!!r.closest("[data-grace-area-trigger]");v?u():(m||w)&&(u(),n.trigger())};(d=t.value)==null||d.ownerDocument.addEventListener("pointermove",c),p(()=>{var s;return(s=t.value)==null?void 0:s.ownerDocument.removeEventListener("pointermove",c)})}}),{isPointerInTransit:e,onPointerExit:n.on}}function Te(t,o){const e=Math.abs(o.top-t.y),a=Math.abs(o.bottom-t.y),n=Math.abs(o.right-t.x),u=Math.abs(o.left-t.x);switch(Math.min(e,a,n,u)){case u:return"left";case n:return"right";case e:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ke(t,o,e=5){const a=[];switch(o){case"top":a.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":a.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":a.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":a.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return a}function Pe(t){const{top:o,right:e,bottom:a,left:n}=t;return[{x:n,y:o},{x:e,y:o},{x:e,y:a},{x:n,y:a}]}function Be(t,o){const{x:e,y:a}=t;let n=!1;for(let u=0,l=o.length-1;u<o.length;l=u++){const p=o[u].x,d=o[u].y,c=o[l].x,s=o[l].y;d>a!=s>a&&e<(c-p)*(a-d)/(s-d)+p&&(n=!n)}return n}function Oe(t){const o=t.slice();return o.sort((e,a)=>e.x<a.x?-1:e.x>a.x?1:e.y<a.y?-1:e.y>a.y?1:0),De(o)}function De(t){if(t.length<=1)return t.slice();const o=[];for(let a=0;a<t.length;a++){const n=t[a];for(;o.length>=2;){const u=o[o.length-1],l=o[o.length-2];if((u.x-l.x)*(n.y-l.y)>=(u.y-l.y)*(n.x-l.x))o.pop();else break}o.push(n)}o.pop();const e=[];for(let a=t.length-1;a>=0;a--){const n=t[a];for(;e.length>=2;){const u=e[e.length-1],l=e[e.length-2];if((u.x-l.x)*(n.y-l.y)>=(u.y-l.y)*(n.x-l.x))e.pop();else break}e.push(n)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}const W="tooltip.open",[L,$e]=J("TooltipRoot"),Ee=P({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:o}){const e=t,a=o;O();const n=F(),u=C(()=>e.disableHoverableContent??n.disableHoverableContent.value),l=C(()=>e.disableClosingTrigger??n.disableClosingTrigger.value),p=C(()=>e.disabled??n.disabled.value),d=C(()=>e.delayDuration??n.delayDuration.value),c=C(()=>e.ignoreNonKeyboardFocus??n.ignoreNonKeyboardFocus.value),s=Z(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0});Q(s,T=>{n.onClose&&(T?(n.onOpen(),document.dispatchEvent(new CustomEvent(W))):n.onClose())});const r=D(!1),f=D(),v=C(()=>s.value?r.value?"delayed-open":"instant-open":"closed"),{start:m,stop:w}=ee(()=>{r.value=!0,s.value=!0},d,{immediate:!1});function g(){w(),r.value=!1,s.value=!0}function b(){w(),s.value=!1}function B(){m()}return $e({contentId:"",open:s,stateAttribute:v,trigger:f,onTriggerChange(T){f.value=T},onTriggerEnter(){n.isOpenDelayed.value?B():g()},onTriggerLeave(){u.value?b():w()},onOpen:g,onClose:b,disableHoverableContent:u,disableClosingTrigger:l,disabled:p,ignoreNonKeyboardFocus:c}),(T,Ne)=>(y(),_(i(te),null,{default:h(()=>[x(T.$slots,"default",{open:i(s)})]),_:3}))}}),Le=P({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t,e=L(),a=F();e.contentId||(e.contentId=oe(void 0,"reka-tooltip-content"));const{forwardRef:n,currentElement:u}=O(),l=D(!1),p=D(!1),d=C(()=>e.disabled.value?{}:{click:w,focus:v,pointermove:r,pointerleave:f,pointerdown:s,blur:m});z(()=>{e.onTriggerChange(u.value)});function c(){setTimeout(()=>{l.value=!1},1)}function s(){l.value=!0,document.addEventListener("pointerup",c,{once:!0})}function r(g){g.pointerType!=="touch"&&!p.value&&!a.isPointerInTransitRef.value&&(e.onTriggerEnter(),p.value=!0)}function f(){e.onTriggerLeave(),p.value=!1}function v(g){var b,B;l.value||e.ignoreNonKeyboardFocus.value&&!((B=(b=g.target).matches)!=null&&B.call(b,":focus-visible"))||e.onOpen()}function m(){e.onClose()}function w(){e.disableClosingTrigger.value||e.onClose()}return(g,b)=>(y(),_(i(se),{"as-child":"",reference:g.reference},{default:h(()=>[$(i(ae),k({ref:i(n),"aria-describedby":i(e).open.value?i(e).contentId:void 0,"data-state":i(e).stateAttribute.value,as:g.as,"as-child":o.asChild,"data-grace-area-trigger":""},ne(d.value)),{default:h(()=>[x(g.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),X=P({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,a=o,n=L(),{forwardRef:u}=O(),l=G(),p=C(()=>{var s;return(s=l.default)==null?void 0:s.call(l,{})}),d=C(()=>{var f;if(e.ariaLabel)return e.ariaLabel;let s="";function r(v){typeof v.children=="string"&&v.type!==re?s+=v.children:Array.isArray(v.children)&&v.children.forEach(m=>r(m))}return(f=p.value)==null||f.forEach(v=>r(v)),s}),c=C(()=>{const{ariaLabel:s,...r}=e;return r});return z(()=>{M(window,"scroll",s=>{const r=s.target;r!=null&&r.contains(n.trigger.value)&&n.onClose()}),M(window,W,n.onClose)}),(s,r)=>(y(),_(i(de),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:r[0]||(r[0]=f=>a("escapeKeyDown",f)),onPointerDownOutside:r[1]||(r[1]=f=>{var v;i(n).disableClosingTrigger.value&&((v=i(n).trigger.value)!=null&&v.contains(f.target))&&f.preventDefault(),a("pointerDownOutside",f)}),onFocusOutside:r[2]||(r[2]=ce(()=>{},["prevent"])),onDismiss:r[3]||(r[3]=f=>i(n).onClose())},{default:h(()=>[$(i(le),k({ref:i(u),"data-state":i(n).stateAttribute.value},{...s.$attrs,...c.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:h(()=>[x(s.$slots,"default"),$(i(ie),{id:i(n).contentId,role:"tooltip"},{default:h(()=>[ue(V(d.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Re=P({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const e=pe(t),{forwardRef:a,currentElement:n}=O(),{trigger:u,onClose:l}=L(),p=F(),{isPointerInTransit:d,onPointerExit:c}=xe(u,n);return p.isPointerInTransitRef=d,c(()=>{l()}),(s,r)=>(y(),_(X,k({ref:i(a)},i(e)),{default:h(()=>[x(s.$slots,"default")]),_:3},16))}}),Fe=P({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,a=o,n=L(),u=U(e,a),{forwardRef:l}=O();return(p,d)=>(y(),_(i(ve),{present:p.forceMount||i(n).open.value},{default:h(()=>[(y(),_(fe(i(n).disableHoverableContent.value?X:Re),k({ref:i(l)},i(u)),{default:h(()=>[x(p.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Se=P({__name:"TooltipArrow",props:{width:{default:10},height:{default:5},asChild:{type:Boolean},as:{default:"svg"}},setup(t){const o=t;return O(),(e,a)=>(y(),_(i(ge),S(A(o)),{default:h(()=>[x(e.$slots,"default")]),_:3},16))}}),Ae=P({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const o=t;return(e,a)=>(y(),_(i(ye),S(A(o)),{default:h(()=>[x(e.$slots,"default")]),_:3},16))}}),He={slots:{content:"flex items-center gap-1 bg-(--ui-bg) text-(--ui-text-highlighted) shadow-sm rounded-(--ui-radius) ring ring-(--ui-border) h-6 px-2 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] pointer-events-auto",arrow:"fill-(--ui-border)",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 before:content-['Â·'] before:me-0.5",kbdsSize:"sm"}},Me=he;var j;const Ie=I({extend:I(He),...((j=Me.ui)==null?void 0:j.tooltip)||{}}),Ke=P({__name:"Tooltip",props:{text:{},kbds:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},class:{},ui:{},defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:o}){const e=t,a=o,n=G(),u=U(be(e,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","disabled","ignoreNonKeyboardFocus"),a),l=K(()=>me(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),p=K(()=>e.arrow),d=C(()=>Ie({side:l.value.side}));return(c,s)=>(y(),_(i(Ee),S(A(i(u))),{default:h(({open:r})=>[n.default?(y(),_(i(Le),k({key:0},c.$attrs,{"as-child":"",class:e.class}),{default:h(()=>[x(c.$slots,"default",{open:r})]),_:2},1040,["class"])):E("",!0),$(i(Ae),{disabled:!c.portal},{default:h(()=>{var f;return[$(i(Fe),k(l.value,{class:d.value.content({class:[!n.default&&e.class,(f=e.ui)==null?void 0:f.content]})}),{default:h(()=>{var v;return[x(c.$slots,"content",{},()=>{var m,w,g;return[c.text?(y(),R("span",{key:0,class:N(d.value.text({class:(m=e.ui)==null?void 0:m.text}))},V(c.text),3)):E("",!0),(w=c.kbds)!=null&&w.length?(y(),R("span",{key:1,class:N(d.value.kbds({class:(g=e.ui)==null?void 0:g.kbds}))},[(y(!0),R(_e,null,Ce(c.kbds,(b,B)=>{var T;return y(),_(we,k({key:B,size:((T=e.ui)==null?void 0:T.kbdsSize)||d.value.kbdsSize(),ref_for:!0},typeof b=="string"?{value:b}:b),null,16,["size"])}),128))],2)):E("",!0)]}),c.arrow?(y(),_(i(Se),k({key:0},p.value,{class:d.value.arrow({class:(v=e.ui)==null?void 0:v.arrow})}),null,16,["class"])):E("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]),_:3},16))}}),ze=Object.assign(Ke,{__name:"UTooltip"});export{ze as _};
