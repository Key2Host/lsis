const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./6Bs5XK28.js","./rHFSfbPB.js","./entry.TjJkJfI1.css","./6bm_RRcn.js"])))=>i.map(i=>d[i]);
import{b as j,by as q,bb as Q,bz as D,ak as G,bA as H,E as x,G as z,ba as Y,y as A,bB as B,aL as Z,bx as J,f as F,bC as X,bD as K,bE as k,B as ee}from"./rHFSfbPB.js";import{p as te}from"./6bm_RRcn.js";const ae={trailing:!0};function ne(e,n=25,s={}){if(s={...ae,...s},!Number.isFinite(n))throw new TypeError("Expected `wait` to be a finite number");let r,t,a=[],i,d;const l=(g,c)=>(i=re(e,g,c),i.finally(()=>{if(i=null,s.trailing&&d&&!t){const u=l(g,d);return d=null,u}}),i);return function(...g){return i?(s.trailing&&(d=g),i):new Promise(c=>{const u=!t&&s.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const f=s.leading?r:l(this,g);for(const y of a)y(f);a=[]},n),u?(r=l(this,g),c(r)):a.push(c)})}}async function re(e,n,s){return await e.apply(n,s)}const se=e=>e==="defer"||e===!1;function ve(...e){var w;const n=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&typeof e[0]!="object"&&!(typeof e[0]=="function"&&typeof e[1]=="function")&&e.unshift(n);let[s,r,t={}]=e;const a=j(()=>q(s));if(typeof a.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const i=Q(),d=()=>D.value,l=(m,_,v)=>{if(_.isHydrating)return _.payload.data[m];if(v.cause!=="refresh:manual"&&v.cause!=="refresh:hook")return _.static.data[m]};t.server??(t.server=!0),t.default??(t.default=d),t.getCachedData??(t.getCachedData=l),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=D.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,i._asyncData[a.value];const g=t.getCachedData(a.value,i,{cause:"initial"});(w=i._asyncData[a.value])!=null&&w._deps||(i._asyncData[a.value]=R(i,a.value,r,t,g));const c=i._asyncData[a.value];c._deps++;const u=()=>i._asyncData[a.value].execute({cause:"initial",dedupe:t.dedupe}),f=t.server!==!1&&i.payload.serverRendered;{let m=function(o){const h=i._asyncData[o];h!=null&&h._deps&&(h._deps--,h._deps===0&&(h==null||h._off(),L(i,o),h.execute=()=>Promise.resolve(),i._asyncData[o].data.value=D.value))};const _=G();if(_&&f&&t.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const o=_._nuxtOnBeforeMountCbs;H(()=>{o.forEach(h=>{h()}),o.splice(0,o.length)}),x(()=>o.splice(0,o.length))}f&&i.isHydrating&&(c.error.value||g!=null)?c.status.value=c.error.value?"error":"success":_&&(i.payload.serverRendered&&i.isHydrating||t.lazy)&&t.immediate?_._nuxtOnBeforeMountCbs.push(u):t.immediate&&u();const v=X(),$=z([a,...t.watch||[]],([o],[h])=>{var S;if(h===o){c._execute({cause:"watch",dedupe:t.dedupe});return}h&&m(h),(S=i._asyncData[o])!=null&&S._deps||(i._asyncData[o]=R(i,o,r,t,t.getCachedData(o,i,{cause:"initial"}))),i._asyncData[o]._deps++,t.immediate&&i._asyncData[o].execute({cause:"initial",dedupe:t.dedupe})});v&&Y(()=>{$(),m(a.value)})}const y={data:I(()=>i._asyncData[a.value].data),pending:I(()=>i._asyncData[a.value].pending),status:I(()=>i._asyncData[a.value].status),error:I(()=>i._asyncData[a.value].error),refresh:(...m)=>i._asyncData[a.value].execute(...m),execute:(...m)=>i._asyncData[a.value].execute(...m),clear:()=>L(i,a.value)},p=Promise.resolve(i._asyncDataPromises[a.value]).then(()=>y);return Object.assign(p,y),p}function I(e){return j({get(){return e().value},set(n){e().value=n}})}function L(e,n){n in e.payload.data&&(e.payload.data[n]=void 0),n in e.payload._errors&&(e.payload._errors[n]=D.errorValue),e._asyncData[n]&&(e._asyncData[n].data.value=F(e._asyncData[n]._default()),e._asyncData[n].error.value=D.errorValue,e._asyncData[n].status.value="idle"),n in e._asyncDataPromises&&(e._asyncDataPromises[n]&&(e._asyncDataPromises[n].cancelled=!0),e._asyncDataPromises[n]=void 0)}function ie(e,n){const s={};for(const r of n)s[r]=e[r];return s}function R(e,n,s,r,t){var g;(g=e.payload._errors)[n]??(g[n]=D.errorValue);const a=s,i=r.deep?A:B,d=t!=null,l={data:i(d?t:r.default()),pending:j(()=>l.status.value==="pending"),error:Z(e.payload._errors,n),status:B("idle"),execute:(c={})=>{if(e._asyncDataPromises[n]){if(se(c.dedupe??r.dedupe))return e._asyncDataPromises[n];e._asyncDataPromises[n].cancelled=!0}{const f=c.cause==="initial"?t:r.getCachedData(n,e,{cause:c.cause??"refresh:manual"});if(f!=null)return e.payload.data[n]=l.data.value=f,l.error.value=D.errorValue,l.status.value="success",Promise.resolve(f)}l.status.value="pending";const u=new Promise((f,y)=>{try{f(a(e))}catch(p){y(p)}}).then(async f=>{if(u.cancelled)return e._asyncDataPromises[n];let y=f;r.transform&&(y=await r.transform(f)),r.pick&&(y=ie(y,r.pick)),e.payload.data[n]=y,l.data.value=y,l.error.value=D.errorValue,l.status.value="success"}).catch(f=>{if(u.cancelled)return e._asyncDataPromises[n];l.error.value=J(f),l.data.value=F(r.default()),l.status.value="error"}).finally(()=>{u.cancelled||delete e._asyncDataPromises[n]});return e._asyncDataPromises[n]=u,e._asyncDataPromises[n]},_execute:ne((...c)=>l.execute(...c),0,{leading:!0}),_default:r.default,_deps:0,_hash:void 0,_off:e.hook("app:data:refresh",async c=>{(!c||c.includes(n))&&await l.execute({cause:"refresh:hook"})})};return l}const De={newsroom:"v3.5.0--7Kvh5tlIFUIt5AgNGL_-ZCKEqVh3dUISs_WloMBaSaA"},ce={newsroom:"_content_newsroom",info:"_content_info"},pe={newsroom:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",date:"date",category:"string",image:"string"}},info:{type:"data",fields:{}}},P=(e,n)=>{const s=e._conditions;return s.length>0?`(${s.join(` ${n} `)})`:""},O=e=>{const n=[],s={_conditions:n,where(r,t,a){let i;switch(t.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(a)){const d=a.map(l=>C(l)).join(", ");i=`"${String(r)}" ${t.toUpperCase()} (${d})`}else throw new TypeError(`Value for ${t} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(a)&&a.length===2)i=`"${String(r)}" ${t.toUpperCase()} ${C(a[0])} AND ${C(a[1])}`;else throw new Error(`Value for ${t} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":i=`"${String(r)}" ${t.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":i=`"${String(r)}" ${t.toUpperCase()} ${C(a)}`;break;default:i=`"${String(r)}" ${t} ${C(typeof a=="boolean"?Number(a):a)}`}return n.push(`${i}`),s},andWhere(r){const t=r(O());return n.push(P(t,"AND")),s},orWhere(r){const t=r(O());return n.push(P(t,"OR")),s}};return s},oe=(e,n)=>{const s={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},r={__params:s,andWhere(a){const i=a(O());return s.conditions.push(P(i,"AND")),r},orWhere(a){const i=a(O());return s.conditions.push(P(i,"OR")),r},path(a){return r.where("path","=",K(a))},skip(a){return s.offset=a,r},where(a,i,d){return r.andWhere(l=>l.where(String(a),i,d)),r},limit(a){return s.limit=a,r},select(...a){return a.length&&s.selectedFields.push(...a),r},order(a,i){return s.orderBy.push(`"${String(a)}" ${i}`),r},async all(){return n(e,t()).then(a=>a||[])},async first(){return n(e,t({limit:1})).then(a=>a[0]||null)},async count(a="*",i=!1){return n(e,t({count:{field:String(a),distinct:i}})).then(d=>d[0].count)}};function t(a={}){let i="SELECT ";if(a!=null&&a.count)i+=`COUNT(${a.count.distinct?"DISTINCT ":""}${a.count.field}) as count`;else{const l=Array.from(new Set(s.selectedFields));i+=l.length>0?l.map(g=>`"${String(g)}"`).join(", "):"*"}i+=` FROM ${ce[String(e)]}`,s.conditions.length>0&&(i+=` WHERE ${s.conditions.join(" AND ")}`),s.orderBy.length>0?i+=` ORDER BY ${s.orderBy.join(", ")}`:i+=" ORDER BY stem ASC";const d=(a==null?void 0:a.limit)||s.limit;return d>0&&(s.offset>0?i+=` LIMIT ${d} OFFSET ${s.offset}`:i+=` LIMIT ${d}`),i}return r};function C(e){return`'${String(e).replace(/'/g,"''")}'`}function U(e){return n=>(n=n||{},(e||[]).filter(s=>typeof n[s]<"u").reduce((s,r)=>Object.assign(s,{[r]:n[r]}),{}))}async function le(e,n=[]){var g;const s=e.__params;(g=s==null?void 0:s.orderBy)!=null&&g.length||(e=e.order("stem","ASC"));const r=await e.orWhere(c=>c.where("navigation","<>","false").where("navigation","IS NULL")).select("navigation","stem","path","title","meta",...n||[]).all(),{contents:t,configs:a}=r.reduce((c,u)=>{var f;if(String(u.stem).split("/").pop()===".navigation"){u.title=((f=u.title)==null?void 0:f.toLowerCase())==="navigation"?"":u.title;const y=u.path.split("/").slice(0,-1).join("/")||"/";c.configs[y]={...u,...u.body}}else c.contents.push(u);return c},{configs:{},contents:[]}),i=c=>({...U(["title",...n])(c),...c.meta,...W(c==null?void 0:c.navigation)?c.navigation:{}}),d=c=>({...U(["title",...n])(c),...W(c==null?void 0:c.navigation)?c.navigation:{}}),l=t.reduce((c,u)=>{var $;const f=u.path.substring(1).split("/"),y=u.stem.split("/"),p=!!(($=y[y.length-1])!=null&&$.match(/([1-9]\d*\.)?index/g)),w=o=>({title:o.title,path:o.path,stem:o.stem,children:[],...d(o)}),m=w(u);if(p){const o=a[m.path];if(typeof(o==null?void 0:o.navigation)<"u"&&(o==null?void 0:o.navigation)===!1)return c;if(u.path!=="/"){const h=w(u);m.children.push(h)}o&&Object.assign(m,i(o))}if(f.length===1){const o=c.find(h=>h.path===m.path&&h.page===!1);return p&&o?Object.assign(o,{page:void 0,children:[...m.children||[],...o.children||[]]}):c.push(m),c}const _=f.slice(0,-1).reduce((o,h,S)=>{const T="/"+f.slice(0,S+1).join("/"),b=a[T];if(typeof(b==null?void 0:b.navigation)<"u"&&b.navigation===!1)return[];let E=o.find(N=>N.path===T);if(!E){const N=b?i(b):{};E={...N,title:N.title||ue(h),path:T,stem:y.slice(0,S+1).join("/"),children:[],page:!1},o.push(E)}return E.children},c),v=_.find(o=>o.path===m.path&&o.page===!1);return v?Object.assign(v,{...m,page:void 0,children:[...m.children||[],...v.children||[]]}):_.push(m),c},[]);return M(l)}function M(e){var s;const n=e;for(const r of n)(s=r.children)!=null&&s.length?M(r.children):delete r.children;return e}function W(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const ue=e=>e.split(/[\s-]/g).map(te).join(" ");async function de(e,n,s){const{before:r=1,after:t=1,fields:a=[]}=s||{},i=await le(e,a),d=V(i),l=d.findIndex(u=>u.path===n),g=l===-1?[]:d.slice(l-r,l),c=l===-1?[]:d.slice(l+1,l+t+1);return[...Array.from({length:r}).fill(null).concat(g).slice(g.length),...c.concat(Array.from({length:t}).fill(null)).slice(0,t)]}function V(e){return e.flatMap(s=>{const r=s.children?V(s.children):[];return s.page===!1||r.length&&r.find(t=>t.path===s.path)?r:[{...s,children:void 0},...r]})}const fe=e=>{var s,r;const n=(r=(s=k())==null?void 0:s.ssrContext)==null?void 0:r.event;return oe(e,(t,a)=>he(n,t,a))};function be(e,n,s){return me(e,r=>de(r,n,s))}async function he(e,n,s){return ge(n,s)}async function ge(e,n){return await ee(()=>import("./6Bs5XK28.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(r=>r.loadDatabaseAdapter(e)).then(r=>r.all(n))}function me(e,n){const s=fe(e),r={where(t,a,i){return s.where(String(t),a,i),r},andWhere(t){return s.andWhere(t),r},orWhere(t){return s.orWhere(t),r},order(t,a){return s.order(String(t),a),r},then(t,a){return n(s).then(t,a)},catch(t){return this.then(void 0,t)},finally(t){return this.then(void 0,void 0).finally(t)},get[Symbol.toStringTag](){return"Promise"}};return r}export{be as a,pe as b,De as c,fe as q,ce as t,ve as u};
