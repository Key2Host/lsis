import{aq as Y,y as D,bH as I,ai as J,g as B,a3 as Q,a4 as O,bI as F,b as w,a5 as Z,G as ee,bJ as te,d as C,o as y,w as h,e as T,f as l,am as ae,ap as oe,A as j,l as L,P as ne,a1 as k,bK as se,ao as re,L as z,bu as le,bL as K,av as ie,a2 as ue,s as ce,m as V,aa as de,au as fe,at as pe,aw as W,ab as ve,ad as ge,N as E,O as A,aA as ye,aB as he,u as be,aD as me,aK as Ce,aL as S,aM as we,aE as N,a8 as $,c as q,n as G,F as xe,r as _e,bM as Te}from"./B8ecJpJH.js";function ke(t,a){const e=Y(!1,300),n=D(null),s=J();function u(){n.value=null,e.value=!1}function i(c,d){const p=c.currentTarget,o={x:c.clientX,y:c.clientY},r=Pe(o,p.getBoundingClientRect()),v=Be(o,r),f=Oe(d.getBoundingClientRect()),b=Le([...v,...f]);n.value=b,e.value=!0}return I(c=>{if(t.value&&a.value){const d=o=>i(o,a.value),p=o=>i(o,t.value);t.value.addEventListener("pointerleave",d),a.value.addEventListener("pointerleave",p),c(()=>{var o,r;(o=t.value)==null||o.removeEventListener("pointerleave",d),(r=a.value)==null||r.removeEventListener("pointerleave",p)})}}),I(c=>{var d;if(n.value){const p=o=>{var g,m;if(!n.value||!(o.target instanceof HTMLElement))return;const r=o.target,v={x:o.clientX,y:o.clientY},f=((g=t.value)==null?void 0:g.contains(r))||((m=a.value)==null?void 0:m.contains(r)),b=!De(v,n.value),x=!!r.closest("[data-grace-area-trigger]");f?u():(b||x)&&(u(),s.trigger())};(d=t.value)==null||d.ownerDocument.addEventListener("pointermove",p),c(()=>{var o;return(o=t.value)==null?void 0:o.ownerDocument.removeEventListener("pointermove",p)})}}),{isPointerInTransit:e,onPointerExit:s.on}}function Pe(t,a){const e=Math.abs(a.top-t.y),n=Math.abs(a.bottom-t.y),s=Math.abs(a.right-t.x),u=Math.abs(a.left-t.x);switch(Math.min(e,n,s,u)){case u:return"left";case s:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Be(t,a,e=5){const n=[];switch(a){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function Oe(t){const{top:a,right:e,bottom:n,left:s}=t;return[{x:s,y:a},{x:e,y:a},{x:e,y:n},{x:s,y:n}]}function De(t,a){const{x:e,y:n}=t;let s=!1;for(let u=0,i=a.length-1;u<a.length;i=u++){const c=a[u].x,d=a[u].y,p=a[i].x,o=a[i].y;d>n!=o>n&&e<(p-c)*(n-d)/(o-d)+c&&(s=!s)}return s}function Le(t){const a=t.slice();return a.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),$e(a)}function $e(t){if(t.length<=1)return t.slice();const a=[];for(let n=0;n<t.length;n++){const s=t[n];for(;a.length>=2;){const u=a[a.length-1],i=a[a.length-2];if((u.x-i.x)*(s.y-i.y)>=(u.y-i.y)*(s.x-i.x))a.pop();else break}a.push(s)}a.pop();const e=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;e.length>=2;){const u=e[e.length-1],i=e[e.length-2];if((u.x-i.x)*(s.y-i.y)>=(u.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}return e.pop(),a.length===1&&e.length===1&&a[0].x===e[0].x&&a[0].y===e[0].y?a:a.concat(e)}const U="tooltip.open",[R,Ee]=Q("TooltipRoot"),Ae=B({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:a}){const e=t,n=a;O();const s=F(),u=w(()=>e.disableHoverableContent??s.disableHoverableContent.value),i=w(()=>e.disableClosingTrigger??s.disableClosingTrigger.value),c=w(()=>e.disabled??s.disabled.value),d=w(()=>e.delayDuration??s.delayDuration.value),p=w(()=>e.ignoreNonKeyboardFocus??s.ignoreNonKeyboardFocus.value),o=Z(e,"open",n,{defaultValue:e.defaultOpen,passive:e.open===void 0});ee(o,_=>{s.onClose&&(_?(s.onOpen(),document.dispatchEvent(new CustomEvent(U))):s.onClose())});const r=D(!1),v=D(),f=w(()=>o.value?r.value?"delayed-open":"instant-open":"closed"),{start:b,stop:x}=te(()=>{r.value=!0,o.value=!0},d,{immediate:!1});function g(){x(),r.value=!1,o.value=!0}function m(){x(),o.value=!1}function P(){b()}return Ee({contentId:"",open:o,stateAttribute:f,trigger:v,onTriggerChange(_){v.value=_},onTriggerEnter(){s.isOpenDelayed.value?P():g()},onTriggerLeave(){u.value?m():x()},onOpen:g,onClose:m,disableHoverableContent:u,disableClosingTrigger:i,disabled:c,ignoreNonKeyboardFocus:p}),(_,H)=>(y(),C(l(ae),null,{default:h(()=>[T(_.$slots,"default",{open:l(o)})]),_:3}))}}),Re=B({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,e=R(),n=F();e.contentId||(e.contentId=oe(void 0,"reka-tooltip-content"));const{forwardRef:s,currentElement:u}=O(),i=D(!1),c=D(!1),d=w(()=>e.disabled.value?{}:{click:x,focus:f,pointermove:r,pointerleave:v,pointerdown:o,blur:b});j(()=>{e.onTriggerChange(u.value)});function p(){setTimeout(()=>{i.value=!1},1)}function o(){i.value=!0,document.addEventListener("pointerup",p,{once:!0})}function r(g){g.pointerType!=="touch"&&!c.value&&!n.isPointerInTransitRef.value&&(e.onTriggerEnter(),c.value=!0)}function v(){e.onTriggerLeave(),c.value=!1}function f(g){var m,P;i.value||e.ignoreNonKeyboardFocus.value&&!((P=(m=g.target).matches)!=null&&P.call(m,":focus-visible"))||e.onOpen()}function b(){e.onClose()}function x(){e.disableClosingTrigger.value||e.onClose()}return(g,m)=>(y(),C(l(re),{"as-child":"",reference:g.reference},{default:h(()=>[L(l(ne),k({ref:l(s),"aria-describedby":l(e).open.value?l(e).contentId:void 0,"data-state":l(e).stateAttribute.value,as:g.as,"as-child":a.asChild,"data-grace-area-trigger":""},se(d.value)),{default:h(()=>[T(g.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),X=B({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:a}){const e=t,n=a,s=R(),{forwardRef:u}=O(),i=z(),c=w(()=>{var o;return(o=i.default)==null?void 0:o.call(i,{})}),d=w(()=>{var v;if(e.ariaLabel)return e.ariaLabel;let o="";function r(f){typeof f.children=="string"&&f.type!==le?o+=f.children:Array.isArray(f.children)&&f.children.forEach(b=>r(b))}return(v=c.value)==null||v.forEach(f=>r(f)),o}),p=w(()=>{const{ariaLabel:o,...r}=e;return r});return j(()=>{K(window,"scroll",o=>{const r=o.target;r!=null&&r.contains(s.trigger.value)&&s.onClose()}),K(window,U,s.onClose)}),(o,r)=>(y(),C(l(fe),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:r[0]||(r[0]=v=>n("escapeKeyDown",v)),onPointerDownOutside:r[1]||(r[1]=v=>{var f;l(s).disableClosingTrigger.value&&((f=l(s).trigger.value)!=null&&f.contains(v.target))&&v.preventDefault(),n("pointerDownOutside",v)}),onFocusOutside:r[2]||(r[2]=de(()=>{},["prevent"])),onDismiss:r[3]||(r[3]=v=>l(s).onClose())},{default:h(()=>[L(l(ie),k({ref:l(u),"data-state":l(s).stateAttribute.value},{...o.$attrs,...p.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:h(()=>[T(o.$slots,"default"),L(l(ue),{id:l(s).contentId,role:"tooltip"},{default:h(()=>[ce(V(d.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Se=B({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const e=pe(t),{forwardRef:n,currentElement:s}=O(),{trigger:u,onClose:i}=R(),c=F(),{isPointerInTransit:d,onPointerExit:p}=ke(u,s);return c.isPointerInTransitRef=d,p(()=>{i()}),(o,r)=>(y(),C(X,k({ref:l(n)},l(e)),{default:h(()=>[T(o.$slots,"default")]),_:3},16))}}),qe=B({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:a}){const e=t,n=a,s=R(),u=W(e,n),{forwardRef:i}=O();return(c,d)=>(y(),C(l(ge),{present:c.forceMount||l(s).open.value},{default:h(()=>[(y(),C(ve(l(s).disableHoverableContent.value?X:Se),k({ref:l(i)},l(u)),{default:h(()=>[T(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Fe=B({__name:"TooltipArrow",props:{width:{default:10},height:{default:5},asChild:{type:Boolean},as:{default:"svg"}},setup(t){const a=t;return O(),(e,n)=>(y(),C(l(ye),E(A(a)),{default:h(()=>[T(e.$slots,"default")]),_:3},16))}}),He=B({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const a=t;return(e,n)=>(y(),C(l(he),E(A(a)),{default:h(()=>[T(e.$slots,"default")]),_:3},16))}}),Me={slots:{content:"flex items-center gap-1 bg-default text-highlighted shadow-sm rounded-sm ring ring-default h-6 px-2 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-tooltip-content-transform-origin) pointer-events-auto",arrow:"fill-default",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 before:content-['Â·'] before:me-0.5",kbdsSize:"sm"}},Ke={__name:"UTooltip",props:{text:{type:String,required:!1},kbds:{type:Array,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},emits:["update:open"],setup(t,{emit:a}){const e=t,n=a,s=z(),u=be(),i=W(me(e,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","disabled","ignoreNonKeyboardFocus"),n),c=Ce(S(()=>e.portal)),d=S(()=>we(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),p=S(()=>e.arrow),o=w(()=>{var r;return N({extend:N(Me),...((r=u.ui)==null?void 0:r.tooltip)||{}})({side:d.value.side})});return(r,v)=>(y(),C(l(Ae),E(A(l(i))),{default:h(({open:f})=>[s.default?(y(),C(l(Re),k({key:0},r.$attrs,{"as-child":"",class:e.class}),{default:h(()=>[T(r.$slots,"default",{open:f})]),_:2},1040,["class"])):$("",!0),L(l(He),E(A(l(c))),{default:h(()=>{var b;return[L(l(qe),k(d.value,{class:o.value.content({class:[!s.default&&e.class,(b=e.ui)==null?void 0:b.content]})}),{default:h(()=>{var x;return[T(r.$slots,"content",{},()=>{var g,m,P;return[t.text?(y(),q("span",{key:0,class:G(o.value.text({class:(g=e.ui)==null?void 0:g.text}))},V(t.text),3)):$("",!0),(m=t.kbds)!=null&&m.length?(y(),q("span",{key:1,class:G(o.value.kbds({class:(P=e.ui)==null?void 0:P.kbds}))},[(y(!0),q(xe,null,_e(t.kbds,(_,H)=>{var M;return y(),C(Te,k({key:H,size:((M=e.ui)==null?void 0:M.kbdsSize)||o.value.kbdsSize(),ref_for:!0},typeof _=="string"?{value:_}:_),null,16,["size"])}),128))],2)):$("",!0)]}),t.arrow?(y(),C(l(Fe),k({key:0},p.value,{class:o.value.arrow({class:(x=e.ui)==null?void 0:x.arrow})}),null,16,["class"])):$("",!0)]}),_:3},16,["class"])]}),_:3},16)]),_:3},16))}};export{Ke as _};
