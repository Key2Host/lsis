{"version":3,"file":"js/507.bcde5482.js","mappings":"yLAuEMA,MAAM,S,GAELA,MAAM,iB,GAMLA,MAAM,oE,0CARbC,EAAAA,EAAAA,IAaM,MAbNC,EAaM,EAXLC,EAAAA,EAAAA,IASM,MATNC,EASM,cARLD,EAAAA,EAAAA,IAIM,OAJDH,MAAM,iCAA+B,EACzCG,EAAAA,EAAAA,IAEM,OAFDH,MAAM,iBAAiBK,KAAK,U,EAChCF,EAAAA,EAAAA,IAAmD,QAA7CH,MAAM,mBAAkB,sBAAc,KAG9CG,EAAAA,EAAAA,IAEO,MAFPG,EAEO,EAjFVC,EAAAA,EAAAA,IA+EiF,iBAC3DC,EAAAA,EAAAA,IAAGC,EAAAC,MAAO,IAAC,gBAAAP,EAAAA,EAAAA,IAAgE,KAA7DQ,KAAK,4BAA4BC,OAAO,UAAS,YAAQ,KAhF7FL,EAAAA,EAAAA,IAgFiG,OAAGC,EAAAA,EAAAA,IAAGK,EAAAC,GAAG,YAAD,Q,2CA1EzG,MAAMC,GAAYC,EAAAA,EAAAA,KAElB,OACCC,IAAAA,GACC,MAAO,CACNP,MAAO,IAAIQ,MAAQC,cAErB,EACAC,OAAAA,GACCL,EAAUM,gBAAiB,EAC3BN,EAAUO,eAAgB,EAC1BP,EAAUQ,WAAY,EACtBR,EAAUS,gBAAkB,MAG5BC,KAAKC,QACN,EACAC,aAAAA,GACCZ,EAAUM,gBAAiB,EAC3BN,EAAUO,eAAgB,EAC1BP,EAAUQ,WAAY,EACtBR,EAAUS,gBAAkB,EAC7B,EACAI,QAAS,CACR,YAAMF,GACL,MAAMG,EAAQC,EAAAA,EAAQC,IAAI,YAE1B,GAAIF,EACH,UAEOG,EAAAA,EAAMC,KAAK,sCAAuC,CAAC,EAAG,CAC3DC,QAAS,CACRC,cAAe,UAAUN,OAK3B,MAAMO,EAAgB,CACrBC,OAAQ,eACRC,KAAM,IACNC,SAAU,OACVC,QAAQ,GAITV,EAAAA,EAAQW,OAAO,WAAYL,GAC3BN,EAAAA,EAAQW,OAAO,eAAgBL,GAG/BX,KAAKiB,QAAQC,KAAK,IACnB,CAAE,MAAOC,GACRC,QAAQD,MAAM,gBAAiBA,EAEhC,MAGAnB,KAAKiB,QAAQC,KAAK,IAEpB,I,UC3DF,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://webapp/./src/apps/auth/views/Logout.vue","webpack://webapp/./src/apps/auth/views/Logout.vue?9a95"],"sourcesContent":["<script>\nimport { useAppOptionStore } from '@/apps/auth/stores/app-option';\nimport axios from 'axios'; // Verwende Axios oder eine andere HTTP-Bibliothek, um API-Aufrufe zu t√§tigen\nimport { useRouter } from 'vue-router';\nimport Cookies from 'js-cookie'; \n\nconst appOption = useAppOptionStore();\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tyear: (new Date()).getFullYear()\n\t\t}\n\t},\n\tmounted() {\n\t\tappOption.appSidebarHide = true;\n\t\tappOption.appHeaderHide = true;\n\t\tappOption.appFooter = false;\n\t\tappOption.appContentClass = 'p-0';\n\n\t\t// Abmelden des Nutzers\n\t\tthis.logout();\n\t},\n\tbeforeUnmount() {\n\t\tappOption.appSidebarHide = false;\n\t\tappOption.appHeaderHide = false;\n\t\tappOption.appFooter = true;\n\t\tappOption.appContentClass = '';\n\t},\n\tmethods: {\n\t\tasync logout() {\n\t\t\tconst token = Cookies.get('id_token');\n\n\t\t\tif (token) {\n\t\t\t\ttry {\n\t\t\t\t\t// Aufrufen der API zum Abmelden\n\t\t\t\t\tawait axios.post('https://api.unisuite.de/auth/logout', {}, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Tokens aus dem localStorage entfernen\n\t\t\t\t\tconst cookieOptions = {\n\t\t\t\t\t\tdomain: '.unisuite.de',\n\t\t\t\t\t\tpath: '/',\n\t\t\t\t\t\tsameSite: 'None',\n\t\t\t\t\t\tsecure: true,\n\t\t\t\t\t};\n\n\t\t\t\t\t// Entferne die Cookies beim Logout\n\t\t\t\t\tCookies.remove(\"id_token\", cookieOptions);\n\t\t\t\t\tCookies.remove(\"access_token\", cookieOptions);\n\n\t\t\t\t\t// Weiterleiten zur Login-Seite\n\t\t\t\t\tthis.$router.push('/');\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Logout failed\", error);\n\t\t\t\t\t// Optional: Fehlerbehandlung anzeigen oder Benutzer benachrichtigen\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Kein Token vorhanden, direkt zur Login-Seite weiterleiten\n\t\t\t\tthis.$router.push('/');\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<template>\n\t<!-- BEGIN logout -->\n\t<div class=\"login\">\n\t\t<!-- BEGIN logout-content -->\n\t\t<div class=\"login-content\">\n\t\t\t<div class=\"d-flex justify-content-center\">\n\t\t\t\t<div class=\"spinner-border\" role=\"status\">\n\t\t\t\t\t<span class=\"visually-hidden\">Logging out...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"fixed-bottom mb-2 text-center small text-inverse text-opacity-50\">\n\t\t\t\t\tCopyright &copy; {{ year }} <a href=\"https://www.key2host.com/\" target=\"_blank\">Key2Host</a> - {{ $t(\"APP.LIC\") }}\n\t\t\t\t</div>\n\t\t</div>\n\t\t<!-- END logout-content -->\n\t</div>\n\t<!-- END logout -->\n</template>","import { render } from \"./Logout.vue?vue&type=template&id=6b2ce9ba\"\nimport script from \"./Logout.vue?vue&type=script&lang=js\"\nexport * from \"./Logout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","role","_hoisted_3","_createTextVNode","_toDisplayString","$data","year","href","target","_ctx","$t","appOption","useAppOptionStore","data","Date","getFullYear","mounted","appSidebarHide","appHeaderHide","appFooter","appContentClass","this","logout","beforeUnmount","methods","token","Cookies","get","axios","post","headers","Authorization","cookieOptions","domain","path","sameSite","secure","remove","$router","push","error","console","__exports__","render"],"sourceRoot":""}